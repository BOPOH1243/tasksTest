# Задача: Разработка серверной части веб-приложения для управления списком задач

## Описание

Этот проект представляет собой серверную часть простого веб-приложения для управления списком задач с использованием `FastAPI`, `PostgreSQL`, `Docker Compose` и аутентификацией через Bearer-токен (с access и refresh токенами).

## Структура

1. **RESTful API на Python с использованием FastAPI**  
2. **CRUD-функции для задач**:
   - **Создание задачи (POST /tasks)**: принимает название, описание, статус задачи (например, "в процессе" или "завершена").
   - **Получение списка задач (GET /tasks)**: с возможностью фильтрации по статусу.
   - **Обновление задачи (PUT /tasks/{id})**: редактирование названия, описания и статуса.
   - **Удаление задачи (DELETE /tasks/{id})**.

3. **Аутентификация**:
   - Аутентификация через Bearer-токен.
   - Использование access и refresh токенов.
   - Маршруты:
     - **POST /auth/register**: регистрация пользователя (принимает `username` и `password`).
     - **POST /auth/login**: вход в систему (возвращает `access` и `refresh` токены).
     - **POST /auth/refresh**: обновление `access` токена с использованием `refresh` токена.

4. **База данных**:
   - Используется `PostgreSQL` для хранения данных о пользователях и задачах.
   - Схемы таблиц:
     - **users**: содержит `id`, `username`, `password_hash`.
     - **tasks**: содержит `id`, `title`, `description`, `status`, `user_id`.

5. **Использование Redis**:
   - Хранение `refresh` токенов в `Redis` для управления сроком их жизни и обеспечения безопасности.

6. **Docker Compose**:
   - Приложение настроено для работы в контейнерах с помощью Docker Compose.
   - Включает контейнеры для:
     - `aiohttp`-сервера.
     - PostgreSQL базы данных.

## Запуск приложения

Для запуска приложения необходимо использовать `docker-compose`.

1. Клонируйте репозиторий:
    ```
    git clone https://github.com/BOPOH1243/tasksTest.git
    cd tasksTest
    ```

2. Запустите контейнеры с помощью `docker-compose`:
    ```
    docker-compose up --build
    ```

3. Приложение будет доступно по адресу:
    ```
    http://localhost:8000
    ```

## Структура проекта

- `Dockerfile`: файл для создания Docker-образа для серверной части.
- `docker-compose.yml`: файл для настройки Docker Compose.
- `tasksTest/`: директория с исходным кодом приложения.

## Примечания

- Для работы с базой данных PostgreSQL приложение использует библиотеку `asyncpg`.
- Токены хранятся в Redis для удобного управления сроком их действия.
- Для аутентификации используется механизм Bearer-токенов с разделением на `access` и `refresh` токены.

## Лицензия

MIT License
